<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="VRoom √® la ride companion per motociclisti: navigazione turn-by-turn con voce, road alert dalla comunit√†, telemetria e SOS. Safety-first, offline-first, zero gamification." />
  <meta name="keywords" content="motorcycle, rider, safety, ride companion, voice, community" />
  <meta name="author" content="Datanal" />

  <meta property="og:title" content="VRoom ‚Äî By riders, for riders" />
  <meta property="og:description" content="v3 quasi completa: navigazione live, road alert, telemetria e sessioni di gruppo. Safety-first, privacy-first." />
  <meta property="og:type" content="website" />

  <title>VRoom ‚Äî By riders, for riders</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Unbounded:wght@500;600;700&display=swap');

    :root {
      --bg-0: #030304;
      --bg-1: #0a0b10;
      --bg-2: #12141c;
      --text: #f4f5f9;
      --muted: #a0a6b3;
      --accent: #ff7a18;
      --accent-2: #15f4d0;
      --accent-3: #ff2d95;
      --card: rgba(12, 14, 20, 0.86);
      --stroke: rgba(255, 255, 255, 0.08);
      --glow: rgba(255, 122, 24, 0.35);
      --radius: 18px;
      --max: 1180px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Space Grotesk", "Segoe UI", sans-serif;
      color: var(--text);
      background:
        radial-gradient(900px 500px at 80% -10%, rgba(255, 45, 149, 0.25), transparent 60%),
        radial-gradient(1000px 520px at 10% 10%, rgba(21, 244, 208, 0.2), transparent 55%),
        linear-gradient(160deg, var(--bg-0), var(--bg-1) 45%, var(--bg-2) 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
    }

    body::before {
      background:
        radial-gradient(600px 260px at 80% 25%, rgba(255, 122, 24, 0.25), transparent 70%),
        radial-gradient(520px 240px at 20% 80%, rgba(21, 244, 208, 0.18), transparent 70%);
      filter: blur(12px);
      animation: glowShift 10s ease-in-out infinite alternate;
    }

    body::after {
      background: linear-gradient(120deg, rgba(255, 255, 255, 0.06), transparent 60%);
      mix-blend-mode: screen;
      opacity: 0.45;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    img {
      max-width: 100%;
      display: block;
    }

    .container {
      width: min(100% - 2.5rem, var(--max));
      margin: 0 auto;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(18px);
      background: rgba(6, 7, 10, 0.85);
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 0;
      gap: 1.5rem;
    }

    .logo {
      font-family: "Unbounded", "Space Grotesk", sans-serif;
      font-size: 1.3rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 0.65rem;
    }

    .logo span {
      color: var(--accent);
    }

    .nav-links {
      display: flex;
      gap: 1.6rem;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .nav-links a {
      transition: color 0.2s ease;
    }

    .nav-links a:hover {
      color: var(--text);
    }

    .nav-cta {
      display: flex;
      gap: 0.8rem;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.35rem 0.85rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(9, 12, 18, 0.65);
      color: var(--muted);
      font-size: 0.85rem;
    }

    .button {
      padding: 0.85rem 1.6rem;
      border-radius: 999px;
      border: 1px solid transparent;
      font-weight: 600;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.95rem;
    }

    .button.primary {
      background: linear-gradient(135deg, var(--accent), #ff9a3d 50%, var(--accent));
      color: #0b0f15;
      box-shadow: 0 18px 35px rgba(255, 122, 24, 0.35);
    }

    .button.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 24px 40px rgba(255, 122, 24, 0.45);
    }

    .button.ghost {
      border-color: rgba(255, 255, 255, 0.18);
      color: var(--text);
      background: rgba(255, 255, 255, 0.04);
    }

    .button.ghost:hover {
      transform: translateY(-2px);
      border-color: rgba(255, 255, 255, 0.35);
    }

    main {
      padding-bottom: 5rem;
    }

    .page-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr) 280px;
      gap: 3rem;
      align-items: start;
    }

    .story {
      position: sticky;
      top: 96px;
      align-self: start;
      padding: 1.5rem;
      border-radius: 20px;
      background: rgba(8, 10, 14, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
    }

    .story h4 {
      font-family: "Unbounded", sans-serif;
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin-bottom: 1rem;
      color: var(--accent-2);
    }

    .story-progress {
      height: 4px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      overflow: hidden;
      margin-bottom: 1rem;
    }

    .story-progress span {
      display: block;
      height: 100%;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
      box-shadow: 0 0 14px rgba(255, 122, 24, 0.4);
      transition: width 0.2s ease;
    }

    .story-lines {
      display: grid;
      gap: 0.9rem;
    }

    .story-line {
      font-size: 0.92rem;
      color: var(--muted);
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease, color 0.3s ease;
      position: relative;
      padding-left: 1.2rem;
      border-left: 1px solid rgba(255, 255, 255, 0.08);
    }

    .story-line::before {
      content: "";
      position: absolute;
      left: -5px;
      top: 0.35rem;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
    }

    .story-line.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    .story-line.is-active {
      color: var(--text);
      text-shadow: 0 0 12px rgba(255, 122, 24, 0.35);
    }

    .story-line.is-active::before {
      background: var(--accent);
      box-shadow: 0 0 10px rgba(255, 122, 24, 0.6);
    }

    .story-line.is-typing {
      animation: typePulse 0.6s ease;
    }

    .hero {
      padding: 5.5rem 0 3.5rem;
      position: relative;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 3rem;
      align-items: center;
    }

    .hero-copy h1 {
      font-family: "Unbounded", sans-serif;
      font-size: clamp(2.5rem, 4.2vw, 4.2rem);
      line-height: 1.05;
      margin: 1.4rem 0 1rem;
    }

    .hero-copy h1 span {
      color: var(--accent);
    }

    .hero-copy p {
      font-size: 1.1rem;
      color: var(--muted);
      max-width: 560px;
      margin-bottom: 1.8rem;
    }

    .hero-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 2.2rem;
    }

    .hero-meta {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      color: var(--muted);
      font-size: 0.95rem;
    }

    .hero-meta strong {
      color: var(--text);
      font-size: 1.1rem;
      display: block;
    }

    .hero-visual {
      position: relative;
      display: grid;
      place-items: center;
    }

    .visuals {
      padding-top: 1rem;
    }

    .visuals-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 1.6rem;
    }

    .visual-card {
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 22px 40px rgba(0, 0, 0, 0.45);
      background: #06070b;
      min-height: 240px;
    }

    .visual-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: saturate(1.15) contrast(1.05);
      transform: scale(1.02);
      transition: transform 0.6s ease;
    }

    .visual-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(6, 7, 11, 0) 0%, rgba(6, 7, 11, 0.75) 100%);
    }

    .visual-card:hover img {
      transform: scale(1.08);
    }

    .visual-card figcaption {
      position: absolute;
      left: 1.4rem;
      right: 1.4rem;
      bottom: 1.2rem;
      z-index: 1;
      display: grid;
      gap: 0.35rem;
    }

    .visual-card span {
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-size: 0.7rem;
      color: var(--accent-2);
    }

    .visual-card strong {
      font-size: 1.15rem;
    }

    .device {
      width: min(100%, 360px);
      aspect-ratio: 9 / 19;
      border-radius: 28px;
      padding: 1.1rem;
      background: linear-gradient(180deg, rgba(22, 28, 40, 0.9), rgba(10, 12, 18, 0.95));
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 35px 80px rgba(0, 0, 0, 0.55);
      position: relative;
      overflow: hidden;
    }

    .device::before {
      content: "";
      position: absolute;
      inset: -40% 30% auto;
      height: 120%;
      background: linear-gradient(120deg, rgba(21, 244, 208, 0.2), transparent 55%);
      transform: rotate(12deg);
      opacity: 0.7;
    }

    .device-screen {
      height: 100%;
      border-radius: 20px;
      background: radial-gradient(circle at 30% 20%, rgba(21, 244, 208, 0.3), transparent 45%),
        linear-gradient(150deg, rgba(255, 122, 24, 0.2), transparent 55%),
        #0a0e15;
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 1.2rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      position: relative;
    }

    .map-card {
      background: rgba(12, 18, 28, 0.9);
      border-radius: 16px;
      padding: 1rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      display: grid;
      gap: 0.75rem;
    }

    .route-line {
      height: 120px;
      border-radius: 12px;
      background: linear-gradient(120deg, rgba(21, 244, 208, 0.8), rgba(255, 122, 24, 0.8));
      mask: radial-gradient(circle at 15% 20%, transparent 0 12px, black 13px),
        linear-gradient(90deg, black, black);
      position: relative;
      overflow: hidden;
    }

    .route-line::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: sweep 2.5s linear infinite;
    }

    .map-stats {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .map-stats span {
      color: var(--text);
      font-weight: 600;
    }

    .floating-tag {
      position: absolute;
      right: -30px;
      top: 20px;
      padding: 0.7rem 1rem;
      border-radius: 14px;
      background: rgba(8, 11, 16, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 0.85rem;
      color: var(--muted);
      box-shadow: 0 18px 35px rgba(0, 0, 0, 0.4);
      animation: float 3.2s ease-in-out infinite;
    }

    .floating-tag strong {
      color: var(--text);
    }

    section {
      padding: 4.2rem 0;
    }

    .section-title {
      font-family: "Unbounded", sans-serif;
      font-size: clamp(1.8rem, 3vw, 2.6rem);
      margin-bottom: 1rem;
    }

    .section-subtitle {
      color: var(--muted);
      max-width: 640px;
      margin-bottom: 2.5rem;
      font-size: 1.05rem;
    }

    .grid {
      display: grid;
      gap: 1.6rem;
    }

    .grid.cards {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .card {
      position: relative;
      overflow: hidden;
      padding: 1.6rem;
      border-radius: var(--radius);
      background: var(--card);
      border: 1px solid var(--stroke);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(14px);
      cursor: pointer;
      transition: transform 0.25s ease, border 0.25s ease, box-shadow 0.25s ease;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(140% 90% at 20% 0%, rgba(255, 255, 255, 0.08), transparent 55%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .card:hover {
      transform: translateY(-6px);
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow: 0 18px 38px rgba(255, 122, 24, 0.2);
    }

    .card:hover::before,
    .card.is-selected::before,
    .card:focus-within::before {
      opacity: 1;
    }

    .card.is-selected {
      background: #050607;
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow:
        0 26px 60px rgba(0, 0, 0, 0.55),
        0 0 45px rgba(255, 122, 24, 0.22),
        inset 0 0 0 1px rgba(255, 255, 255, 0.04);
    }

    .card h3 {
      font-size: 1.2rem;
      margin-bottom: 0.6rem;
    }

    .card p {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .card-overlay {
      position: absolute;
      inset: 0;
      padding: 1.6rem;
      display: grid;
      gap: 0.7rem;
      background:
        radial-gradient(120% 80% at 20% 0%, rgba(255, 255, 255, 0.06), transparent 60%),
        rgba(5, 6, 8, 0.92);
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.25s ease, transform 0.25s ease;
      pointer-events: none;
    }

    .card-overlay span {
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-size: 0.7rem;
      color: var(--accent-2);
    }

    .card-overlay p {
      color: var(--text);
      font-size: 0.95rem;
      line-height: 1.45;
    }

    .card:hover .card-overlay,
    .card.is-selected .card-overlay,
    .card:focus-within .card-overlay {
      opacity: 1;
      transform: translateY(0);
    }

    .feature-rail {
      display: grid;
      gap: 1.4rem;
    }

    .feature-rail .card {
      display: grid;
      gap: 0.6rem;
    }

    .feature-rail .card span {
      text-transform: uppercase;
      letter-spacing: 0.15em;
      font-size: 0.75rem;
      color: var(--accent-2);
    }

    .tag {
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 0.7rem;
      color: var(--accent-2);
    }

    .card ul {
      list-style: none;
      display: grid;
      gap: 0.4rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .card ul li::before {
      content: "‚Ä¢ ";
      color: var(--accent);
    }

    .feature-points {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .feature-points span {
      font-size: 0.75rem;
      padding: 0.3rem 0.6rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: var(--muted);
    }

    .timeline {
      position: relative;
      display: grid;
      gap: 1.4rem;
      margin-top: 2rem;
    }

    .timeline::before {
      content: "";
      position: absolute;
      left: 12px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(180deg, rgba(255, 122, 24, 0.8), rgba(21, 244, 208, 0.2));
    }

    .timeline-item {
      display: grid;
      grid-template-columns: 24px 1fr;
      gap: 1.2rem;
      align-items: start;
    }

    .timeline-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(255, 122, 24, 0.6);
      margin-top: 0.45rem;
    }

    .timeline-card {
      padding: 1.2rem 1.4rem;
      border-radius: 16px;
      background: rgba(9, 12, 18, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.1);
      display: grid;
      gap: 0.6rem;
    }

    .timeline-card span {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--accent-3);
    }

    .feature-block {
      display: grid;
      gap: 1.6rem;
      margin-top: 2.5rem;
    }

    .feature-block h3 {
      font-size: 1.6rem;
      font-family: "Unbounded", sans-serif;
    }

    .callout {
      padding: 2rem;
      border-radius: 20px;
      background: linear-gradient(135deg, rgba(255, 122, 24, 0.25), rgba(21, 244, 208, 0.18));
      border: 1px solid rgba(255, 255, 255, 0.12);
      display: grid;
      gap: 1rem;
    }

    .callout strong {
      color: var(--text);
    }

    .highlight {
      position: relative;
      border-radius: 24px;
      padding: 2.5rem;
      background: linear-gradient(135deg, rgba(255, 122, 24, 0.24), rgba(255, 45, 149, 0.2));
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 18px 40px rgba(255, 45, 149, 0.15);
    }

    .highlight-grid {
      display: grid;
      gap: 2rem;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      margin-top: 2rem;
    }

    .highlight-item {
      display: grid;
      gap: 0.6rem;
    }

    .highlight-item span {
      font-size: 0.85rem;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .steps {
      display: grid;
      gap: 1.5rem;
    }

    .step {
      display: grid;
      gap: 0.8rem;
      padding: 1.6rem;
      border-radius: 18px;
      background: rgba(10, 12, 18, 0.92);
      border: 1px solid var(--stroke);
    }

    .step strong {
      font-size: 1.1rem;
    }

    .manifesto {
      padding: 2.5rem;
      border-radius: 26px;
      background: rgba(7, 9, 14, 0.92);
      border: 1px solid rgba(255, 255, 255, 0.1);
      display: grid;
      gap: 1.4rem;
      box-shadow: 0 20px 38px rgba(0, 0, 0, 0.4);
    }

    .manifesto strong {
      color: var(--accent-2);
    }

    .cta {
      margin-top: 4rem;
      padding: 3rem;
      border-radius: 28px;
      background: linear-gradient(135deg, rgba(255, 122, 24, 0.28), rgba(21, 244, 208, 0.2));
      border: 1px solid rgba(255, 255, 255, 0.12);
      display: grid;
      gap: 1.2rem;
      align-items: center;
    }

    .cta h2 {
      font-family: "Unbounded", sans-serif;
      font-size: clamp(2rem, 3.2vw, 2.7rem);
    }

    .cta p {
      color: var(--muted);
      font-size: 1.05rem;
    }

    footer {
      border-top: 1px solid rgba(255, 255, 255, 0.08);
      padding: 2.5rem 0 3rem;
      color: var(--muted);
    }

    .footer-grid {
      display: grid;
      gap: 2rem;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      margin-bottom: 2rem;
    }

    .footer-grid h4 {
      color: var(--text);
      margin-bottom: 0.6rem;
      font-size: 1rem;
    }

    .footer-grid a {
      color: var(--muted);
      display: block;
      margin-bottom: 0.4rem;
    }

    .footer-grid a:hover {
      color: var(--text);
    }

    .footer-credits {
      font-size: 0.85rem;
      color: var(--muted);
      margin-bottom: 0.6rem;
    }

    .footer-credits a {
      color: var(--accent-2);
    }

    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .reveal.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes glowShift {
      from {
        transform: translateY(-2%);
      }
      to {
        transform: translateY(2%);
      }
    }

    @keyframes sweep {
      from {
        transform: translateX(-120%);
      }
      to {
        transform: translateX(120%);
      }
    }

    @keyframes float {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes typePulse {
      0% {
        letter-spacing: 0.04em;
        opacity: 0.6;
      }
      100% {
        letter-spacing: 0;
        opacity: 1;
      }
    }

    @media (max-width: 1040px) {
      .page-grid {
        grid-template-columns: 1fr;
      }

      .visuals-grid {
        grid-template-columns: 1fr;
      }

      .story {
        position: static;
        order: 2;
      }

      .hero-grid {
        grid-template-columns: 1fr;
      }

      .nav-links {
        display: none;
      }

      .hero {
        padding-top: 3.5rem;
      }

      .hero-meta {
        gap: 1.2rem;
      }

      .floating-tag {
        right: 10px;
      }
    }

    @media (max-width: 600px) {
      .nav {
        flex-direction: column;
        align-items: flex-start;
      }

      .nav-cta {
        width: 100%;
        justify-content: flex-start;
      }

      .hero-actions {
        flex-direction: column;
        align-items: stretch;
      }

      .button {
        width: 100%;
        justify-content: center;
      }

      .cta {
        padding: 2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="logo" href="#top">V<span>Room</span></a>
      <div class="nav-links">
        <a href="#why">Perch√©</a>
        <a href="#how">Come funziona</a>
        <a href="#journey">Percorso</a>
        <a href="#features">Feature</a>
        <a href="#expo">Moto Expo</a>
        <a href="#manifesto">Manifesto</a>
      </div>
      <div class="nav-cta">
        <a class="button ghost" href="https://github.com/Datanal/Vroom4">GitHub</a>
        <a class="button primary" href="#expo">Demo Live</a>
      </div>
    </div>
  </header>

  <main id="top">
    <div class="container page-grid">
      <div class="content">
        <section class="hero" data-story-index="0">
          <div class="hero-grid">
            <div class="hero-copy reveal" data-animate>
              <span class="pill">üöÄ alpha live ¬∑ v3 quasi completa ¬∑ telemetria in corso</span>
              <h1>Una compagna di viaggio nata <span>in sella</span>.</h1>
              <p>
                VRoom non vuole ‚Äúaggiungere un‚Äôapp‚Äù alla tua guida: vuole togliere rumore.
                Navigazione live con voce, alert dalla comunit√†, telemetria del rider: la v3 √® quasi al traguardo.
                La v4 guarda alla sostenibilit√† e alla scala, senza spostare il baricentro dal safety‚Äëfirst.
              </p>
              <div class="hero-actions">
                <a class="button primary" href="https://github.com/Datanal/Vroom4">Scopri il progetto</a>
                <a class="button ghost" href="#why">Leggi il perch√©</a>
                <a class="button ghost" href="#features">Tutte le feature</a>
              </div>
              <div class="hero-meta">
                <div>
                  <strong>Safety-first</strong>
                  <span>SOS con countdown + alert vocali</span>
                </div>
                <div>
                  <strong>Offline vero</strong>
                  <span>Mappe scaricabili + export GPX</span>
                </div>
                <div>
                  <strong>Navigazione live</strong>
                  <span>Turn-by-turn + voce + telemetria</span>
                </div>
              </div>
            </div>
            <div class="hero-visual reveal" data-animate>
              <div class="device">
                <div class="device-screen">
                  <div class="map-card">
                    <div class="route-line"></div>
                    <div class="map-stats">
                      <div><span>128 km</span><br />Percorso</div>
                      <div><span>+980 m</span><br />Dislivello</div>
                      <div><span>42 eventi</span><br />Annotati</div>
                      <div><span>2h 18m</span><br />Tempo in sella</div>
                    </div>
                  </div>
                  <div class="map-card">
                    <strong>Export pronto</strong>
                    <p>GPX 1.1 ¬∑ share sheet ¬∑ eventi inclusi</p>
                  </div>
                </div>
              </div>
              <div class="floating-tag">‚ö° <strong>Safety first</strong><br />Nessuna gamification</div>
            </div>
          </div>
        </section>

        <section id="visuals" class="visuals" data-story-index="1">
          <h2 class="section-title reveal" data-animate>La strada ha un suono, ma anche una luce.</h2>
          <p class="section-subtitle reveal" data-animate>
            VRoom nasce per catturare quell‚Äôatmosfera: notti, pioggia, curve e momenti che ti rimangono addosso.
          </p>
          <div class="visuals-grid">
            <figure class="visual-card reveal" data-animate data-story-hover="1">
              <img src="https://images.pexels.com/photos/9325653/pexels-photo-9325653.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=1800&w=2400" alt="Motociclista su strada notturna illuminata dalla citt√†" loading="lazy" />
              <figcaption>
                <span>Notte & strada</span>
                <strong>La moto √® atmosfera, non solo distanza.</strong>
              </figcaption>
            </figure>
            <figure class="visual-card reveal" data-animate data-story-hover="1">
              <img src="https://images.pexels.com/photos/15433605/pexels-photo-15433605.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=1800&w=2400" alt="Casco da moto appoggiato sulla sella" loading="lazy" />
              <figcaption>
                <span>Dettagli</span>
                <strong>Ogni uscita √® un racconto inciso sul casco.</strong>
              </figcaption>
            </figure>
          </div>
        </section>

        <section id="why" data-story-index="2">
          <h2 class="section-title reveal" data-animate>Perch√© esiste VRoom.</h2>
          <p class="section-subtitle reveal" data-animate>
            Le app per moto parlano di velocit√†. VRoom parla di presenza: capire dove sei, cosa senti,
            e portare a casa una storia pulita, utile, condivisibile. Niente numeri freddi: solo
            contesto, memoria e sicurezza.
          </p>
          <div class="grid cards">
            <div class="card reveal" data-animate data-story-hover="4" tabindex="0" data-explain="Riduce le interazioni in marcia: registra e tagga per te, cos√¨ resti concentrato sulla strada.">
              <h3>Meno distrazioni</h3>
              <p>La strada √® intensa. VRoom prende appunti al posto tuo con log vocali e tagging automatico,
                cos√¨ puoi restare dove conta: in sella, con la testa libera.</p>
            </div>
            <div class="card reveal" data-animate data-story-hover="6" tabindex="0" data-explain="Trasforma il giro in un racconto leggibile, cos√¨ ricordi punti critici senza numeri freddi.">
              <h3>Memoria della strada</h3>
              <p>Curve, pericoli e passaggi chiave diventano un racconto ordinato: note vocali, punti
                salienti, replay e mappe che ti riportano esattamente l√¨.</p>
            </div>
            <div class="card reveal" data-animate data-story-hover="7" tabindex="0" data-explain="Rende la sicurezza concreta con azioni rapide e chiare quando serve davvero.">
              <h3>Safety che protegge</h3>
              <p>Quando succede qualcosa, il supporto √® concreto: SOS con countdown, contatti dedicati
                e alert vocali per restare lucidi.</p>
            </div>
          </div>
        </section>

        <section id="how" data-story-index="4">
          <h2 class="section-title reveal" data-animate>Come funziona davvero.</h2>
          <p class="section-subtitle reveal" data-animate>
            Una companion silenziosa che ascolta, registra e restituisce insight chiari. Tutto pensato
            per chi guida: attivazione rapida, log automatici, replay emotivo, senza interfacce invadenti.
          </p>
          <div class="steps">
            <div class="step reveal" data-animate data-story-hover="3">
              <strong>1. Avvia e dimentica</strong>
              <span class="section-subtitle">Un tap o un comando vocale. Da l√¨, sei solo tu e la strada:
                GPS in background, note vocali pronte, zero frizioni.</span>
            </div>
            <div class="step reveal" data-animate data-story-hover="4">
              <strong>2. Racconta mentre guidi</strong>
              <span class="section-subtitle">Curve, pericoli, note: tutto viene trascritto e geolocalizzato
                senza interrompere il flusso o guardare lo schermo.</span>
            </div>
            <div class="step reveal" data-animate data-story-hover="6">
              <strong>3. Rivedi e condividi</strong>
              <span class="section-subtitle">Ritorni sui momenti chiave con un replay chiaro e decidi cosa
                esportare o condividere, senza gamification.</span>
            </div>
          </div>
        </section>

        <section id="journey" data-story-index="5">
          <h2 class="section-title reveal" data-animate>Il viaggio in 5 tappe.</h2>
          <p class="section-subtitle reveal" data-animate>
            Ogni giro ha un ritmo. VRoom segue quel ritmo e lo trasforma in un racconto utile
            per te e per chi guider√† dopo di te.
          </p>
          <div class="timeline">
            <div class="timeline-item reveal" data-animate data-story-hover="3">
              <div class="timeline-dot"></div>
              <div class="timeline-card">
                <span>Partenza</span>
                <h3>Metti a fuoco la giornata</h3>
                <p>Apri la sessione, scegli il livello di privacy e lascia che VRoom prepari il logging.</p>
              </div>
            </div>
            <div class="timeline-item reveal" data-animate data-story-hover="4">
              <div class="timeline-dot"></div>
              <div class="timeline-card">
                <span>In strada</span>
                <h3>Parla, lei prende nota</h3>
                <p>Curve, soste, imprevisti: i comandi vocali diventano tag geolocalizzati.</p>
              </div>
            </div>
            <div class="timeline-item reveal" data-animate data-story-hover="5">
              <div class="timeline-dot"></div>
              <div class="timeline-card">
                <span>Momento delicato</span>
                <h3>Segnala e proteggi</h3>
                <p>Un guardrail scivoloso? Una curva cieca? Lo segnali e chi arriva dopo ti ringrazia.</p>
              </div>
            </div>
            <div class="timeline-item reveal" data-animate data-story-hover="6">
              <div class="timeline-dot"></div>
              <div class="timeline-card">
                <span>Ritorno</span>
                <h3>Rivedi il flow</h3>
                <p>Replay, note e statistiche emotive per capire cosa ha funzionato davvero.</p>
              </div>
            </div>
            <div class="timeline-item reveal" data-animate data-story-hover="7">
              <div class="timeline-dot"></div>
              <div class="timeline-card">
                <span>Condivisione</span>
                <h3>Porta il giro dove vuoi</h3>
                <p>Export GPX completo, storico e replay: il tuo giro resta tuo e riutilizzabile.</p>
              </div>
            </div>
          </div>
        </section>

        <section data-story-index="6">
          <h2 class="section-title reveal" data-animate>Soluzioni ai problemi reali.</h2>
          <p class="section-subtitle reveal" data-animate>
            VRoom nasce per risolvere quello che manca in sella: consapevolezza, fiducia e memoria.
            La v3 √® quasi al traguardo: navigazione, voce offline, telemetria e community alert sono reali.
            La v4 guarda a sostenibilit√† e scala, senza spostare il baricentro dalla sicurezza.
          </p>
          <div class="feature-rail">
            <div class="card reveal" data-animate data-story-hover="4" tabindex="0" data-explain="Risolve il problema del touch in marcia: comandi brevi e conferme vocali senza distrazioni.">
              <span>Voce + copilota</span>
              <h3>Rimani in controllo</h3>
              <p>Log vocali e conferme TTS IT/EN: niente schermi da fissare, niente gesture complesse.
                Solo comandi naturali e feedback brevi, quando servono.</p>
              <div class="feature-points">
                <span>8 comandi vocali</span>
                <span>Conferme vocali IT/EN</span>
              </div>
            </div>
            <div class="card reveal" data-animate data-story-hover="6" tabindex="0" data-explain="Evita di perdere il giro senza rete e ti permette di portarlo dove vuoi.">
              <span>Offline + export</span>
              <h3>Capisci il ritmo</h3>
              <p>Replay visuali, mappe offline e GPX standard ti aiutano a rivedere il giro
                e portarlo dove vuoi, senza perdere dati.</p>
              <div class="feature-points">
                <span>Mappe offline</span>
                <span>GPX 1.1 completo</span>
              </div>
            </div>
            <div class="card reveal" data-animate data-story-hover="7" tabindex="0" data-explain="Gestisce le emergenze con calma: countdown e contatti pronti, niente falsi positivi.">
              <span>Safety reale</span>
              <h3>Protezione concreta</h3>
              <p>SOS con countdown, contatti configurabili e alert vocali: sicurezza guidata,
                senza falsi positivi e senza gamification.</p>
              <div class="feature-points">
                <span>Countdown 30s</span>
                <span>SMS + chiamata</span>
              </div>
            </div>
          </div>
        </section>

        <section id="features">
          <h2 class="section-title reveal" data-animate>Tutte le feature, senza fumo.</h2>
          <p class="section-subtitle reveal" data-animate>
            Qui trovi cosa √® gi√† reale, cosa stiamo costruendo e cosa arriver√† dopo. Solo funzioni
            che servono a guidare meglio, non a correre di pi√π.
          </p>

          <div class="feature-block reveal" data-animate>
            <h3>Disponibile ora</h3>
            <div class="grid cards">
              <div class="card" tabindex="0" data-explain="Ti garantisce un giro completo anche con pause o tratti difficili, senza perdere dati.">
                <span class="tag">Tracking</span>
                <h3>Registrazione completa del giro</h3>
                <p>Avvio, pausa, ripresa e chiusura senza perdere il ritmo della guida.</p>
                <ul>
                  <li>Tracking continuo in background</li>
                  <li>Rilevamento GPS spento + guida attivazione</li>
                  <li>Ripresa immediata dopo stop brevi</li>
                  <li>Dati salvati in locale</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Cattura eventi importanti mentre guidi: la voce diventa appunti geolocalizzati.">
                <span class="tag">Voce</span>
                <h3>Comandi vocali + Copilota</h3>
                <p>Eventi vocali per curve, pericoli e note personali, con conferme TTS IT/EN.</p>
                <ul>
                  <li>Curve, pericoli, autovelox, incidenti</li>
                  <li>Note libere e marker geolocalizzati</li>
                  <li>Conferme vocali e queue intelligente</li>
                  <li>Parsing italiano robusto</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Ti orienta sempre, anche senza connessione, e rende il percorso rivedibile.">
                <span class="tag">Mappa</span>
                <h3>Mappa live + offline</h3>
                <p>La strada resta visibile e rileggibile, anche senza connessione.</p>
                <ul>
                  <li>Polyline del percorso</li>
                  <li>Marker eventi vocali</li>
                  <li>Replay del giro</li>
                  <li>Mappe offline con regioni scaricabili</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Separa i dati per moto cos√¨ le statistiche restano coerenti e utili.">
                <span class="tag">Profili moto</span>
                <h3>Multi‚Äëmoto, dati pi√π veri</h3>
                <p>Ogni moto ha la sua identit√† e statistiche dedicate.</p>
                <ul>
                  <li>Selezione moto all‚Äôavvio giro</li>
                  <li>Statistiche aggregate per veicolo</li>
                  <li>Dati tecnici contestualizzati</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Sblocca condivisioni e backup senza perdere dettagli del giro.">
                <span class="tag">GPX</span>
                <h3>Export &amp; condivisione</h3>
                <p>Formato standard pronto per Strava, Garmin e condivisioni rapide.</p>
                <ul>
                  <li>GPX 1.1 con punti ed eventi</li>
                  <li>Share sheet Android</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Permette di chiedere aiuto in modo controllato e sicuro.">
                <span class="tag">SOS</span>
                <h3>Emergenze gestite bene</h3>
                <p>SOS manuale con countdown, contatti dedicati e messaggi automatici.</p>
                <ul>
                  <li>Countdown 30s annullabile</li>
                  <li>SMS con posizione + chiamata</li>
                  <li>Contatti rubrica e manuali</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Riduce i passaggi manuali: avvio e stop diventano fluidi.">
                <span class="tag">Automazioni</span>
                <h3>Android Intents</h3>
                <p>Avvio e stop via NFC/Tasker/Automate per setup da rider.</p>
                <ul>
                  <li>Start/Stop ride via intent</li>
                  <li>Report hazard con tipo</li>
                  <li>Query stato per automazioni</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Conserva i giri e gli eventi per imparare e ritrovare i tuoi momenti.">
                <span class="tag">Storico</span>
                <h3>Archivio giri</h3>
                <p>Lista e dettaglio delle uscite, per tornare ai tuoi momenti migliori.</p>
                <ul>
                  <li>Storico locale</li>
                  <li>Dettaglio con mappa</li>
                  <li>Eventi e note in timeline</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="feature-block reveal" data-animate>
            <h3>Arrivato con v3</h3>
            <div class="grid cards">
              <div class="card" tabindex="0" data-explain="Navigazione completa con voce: ti porta a destinazione senza toccare lo schermo.">
                <span class="tag">Navigazione</span>
                <h3>Turn-by-turn con voce</h3>
                <p>Routing completo con istruzioni vocali, ricalcolo automatico e import GPX.</p>
                <ul>
                  <li>Turn-by-turn con voce IT</li>
                  <li>Ricalcolo automatico</li>
                  <li>Import GPX esterno</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Segnalazioni reali dai rider per i rider: pericoli, rallentamenti e zone delicate in tempo reale.">
                <span class="tag">Road alerts</span>
                <h3>Alert dalla comunit√†</h3>
                <p>Pericoli segnalati dai rider, filtrati e geolocalizzati: la strada pi√π sicura si costruisce insieme.</p>
                <ul>
                  <li>Segnalazione rapida in marcia</li>
                  <li>Sync community opt‚Äëin</li>
                  <li>Filtri anti‚Äërumore</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Coordina i giri senza caos: confronto e condivisione solo quando serve.">
                <span class="tag">Gruppi</span>
                <h3>Sessioni di gruppo</h3>
                <p>Condividi il giro con chi vuoi, confronta i tracciati e rivivi il percorso insieme.</p>
                <ul>
                  <li>Create/join con codice</li>
                  <li>Confronto post‚Äëride</li>
                  <li>Live sharing opzionale</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="I tuoi giri su tutti i tuoi dispositivi, con controllo totale su cosa condividi.">
                <span class="tag">Cloud</span>
                <h3>Sync opt‚Äëin + account</h3>
                <p>Backup multi‚Äëdevice con controllo totale sulla privacy: attivi solo quello che vuoi.</p>
                <ul>
                  <li>Sync opt‚Äëin</li>
                  <li>Account leggero</li>
                  <li>Controlli privacy chiari</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Analisi delle curve e dello stile di guida per conoscere meglio come affronti la strada.">
                <span class="tag">Telemetria</span>
                <h3>Profilo rider &amp; curve</h3>
                <p>Angolo di inclinazione, rilevamento curve e profilo di guida per conoscerti meglio in sella.</p>
                <ul>
                  <li>Angolo di inclinazione live</li>
                  <li>Analisi curve automatica</li>
                  <li>Profilo rider personale</li>
                </ul>
              </div>
              <div class="card" tabindex="0" data-explain="Rileva una caduta e avvia il countdown SOS automaticamente, sempre con conferma umana.">
                <span class="tag">Safety</span>
                <h3>Fall detection automatico</h3>
                <p>Rileva la caduta e parte il countdown SOS. Sempre con conferma umana, sempre safety‚Äëfirst.</p>
                <ul>
                  <li>Rilevamento accelerometrico</li>
                  <li>SOS automatico con conferma</li>
                  <li>Niente falsi positivi</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="feature-block reveal" data-animate>
            <h3>v4 (orizzonte sostenibilit√†)</h3>
            <div class="timeline">
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-card">
                  <span>Sostenibilit√†</span>
                  <h3>Modello solido nel tempo</h3>
                  <p>Un equilibrio che mantiene il progetto sano senza sacrificare sicurezza e privacy.</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-card">
                  <span>Scalabilit√†</span>
                  <h3>Infrastruttura pronta a crescere</h3>
                  <p>Base tecnica per supportare pi√π rider senza degradare l‚Äôesperienza.</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-card">
                  <span>Affidabilit√†</span>
                  <h3>Servizio stabile e resiliente</h3>
                  <p>Processi e qualit√† per ridurre rischi e mantenere fiducia.</p>
                </div>
              </div>
              <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-card">
                  <span>Ecosistema</span>
                  <h3>Valore condiviso, senza spoiler</h3>
                  <p>Direzione business pensata per durare, senza entrare nei dettagli ora.</p>
                </div>
              </div>
            </div>
          </div>

          <div class="feature-block reveal" data-animate>
            <div class="callout">
              <h3>Dove siamo</h3>
              <p class="section-subtitle">
                v3 quasi al traguardo: navigazione, voce offline, telemetria, alert e sessioni di gruppo sono reali.
                La v4 guarda alla sostenibilit√†, con dettagli che arriveranno quando saranno maturi.
              </p>
              <strong>Safety first, privacy first: scope iterativo e niente gamification della velocit√†.</strong>
            </div>
          </div>

          <div class="feature-block reveal" data-animate>
            <div class="callout">
              <h3>Cose che non faremo</h3>
              <p class="section-subtitle">
                VRoom √® safety‚Äëfirst: niente classifiche di velocit√†, niente gare, niente pressione a correre.
                La strada √® rispetto.
              </p>
              <strong>Se una feature spinge a rischiare, non entra nel progetto.</strong>
            </div>
          </div>
        </section>

        <section id="expo" data-story-index="7">
          <div class="highlight reveal" data-animate>
            <h2 class="section-title">Moto Expo 2026 ‚Äî presentazione</h2>
            <p class="section-subtitle">
              VRoom √® stata presentata con tracking, voce e replay in tempo reale.
              Da allora la v3 ha fatto passi enormi: navigazione live, telemetria e community alert sono realt√†.
            </p>
            <div class="highlight-grid">
              <div class="highlight-item">
                <span>Quando</span>
                <strong>25 gennaio 2026</strong>
              </div>
              <div class="highlight-item">
                <span>Demo</span>
                <strong>Voice + Tracking + Replay</strong>
              </div>
              <div class="highlight-item">
                <span>Direzione</span>
                <strong>Safety-first, offline, zero gamification</strong>
              </div>
            </div>
          </div>
        </section>

        <section id="manifesto" data-story-index="8">
          <h2 class="section-title reveal" data-animate>Un solo rider, un prodotto serio.</h2>
          <p class="section-subtitle reveal" data-animate>
            VRoom √® sviluppato da una sola persona, con la cura di un team. Un contesto evoluto,
            una visione chiara e tanta strada sotto le ruote.
          </p>
          <div class="manifesto reveal" data-animate data-story-hover="8">
            <p>
              <strong>Non √® un prototipo.</strong> √à una scelta di vita: creare qualcosa che protegga
              chi guida ogni giorno. Dal primo sketch alla build finale, ogni dettaglio √® pensato
              per chi vive la moto come identit√†.
            </p>
            <p>
              <strong>VRoom cresce con la community.</strong> Ogni feedback √® un chilometro in pi√π
              verso una companion che ascolta davvero.
            </p>
          </div>
        </section>

        <section class="cta reveal" data-animate data-story-index="9">
          <h2>Ti va di farla crescere insieme?</h2>
          <p>L'alpha √® disponibile: se vuoi provare una companion pensata davvero per i rider, il progetto √® aperto.</p>
          <div class="hero-actions">
            <a class="button primary" href="https://github.com/Datanal/Vroom4">Apri il repo</a>
            <a class="button ghost" href="https://github.com/Datanal/Vroom4#-getting-started">Come iniziare</a>
          </div>
        </section>
      </div>

      <aside class="story">
        <h4>Diario di viaggio</h4>
        <div class="story-progress"><span></span></div>
        <div class="story-lines">
          <div class="story-line">VRoom nasce in sella: togliere rumore, non aggiungere app.</div>
          <div class="story-line">La strada √® atmosfera, non solo distanza.</div>
          <div class="story-line">La voce guida, la mappa segue: niente schermi da fissare.</div>
          <div class="story-line">Avvia e dimentica: navigazione e log scorrono in background.</div>
          <div class="story-line">Ogni segnalazione diventa protezione per chi arriva dopo.</div>
          <div class="story-line">La telemetria ti mostra come guidi davvero, senza giudicarti.</div>
          <div class="story-line">v3 quasi al traguardo: navigazione, alert, gruppi, telemetria.</div>
          <div class="story-line">Fall detection, lean angle, curve: la moto che ti conosce.</div>
          <div class="story-line">Un solo rider, cura da officina.</div>
          <div class="story-line">Il prossimo capitolo si costruisce insieme.</div>
        </div>
      </aside>
    </div>
  </main>

  <footer>
    <div class="container">
      <div class="footer-grid">
        <div>
          <h4>VRoom</h4>
          <p>Ride companion per motociclisti. Navigazione, sicurezza, telemetria e passione condivisa.</p>
        </div>
        <div>
          <h4>Project</h4>
          <a href="https://github.com/Datanal/Vroom4">Repository</a>
          <a href="https://github.com/Datanal/Vroom4/issues">Issues & Feedback</a>
          <a href="https://github.com/Datanal/Vroom4/blob/main/CONTRIBUTING.md">Contributing</a>
        </div>
        <div>
          <h4>Docs</h4>
          <a href="https://github.com/Datanal/Vroom4/tree/main/docs">Documentazione</a>
          <a href="https://github.com/Datanal/Vroom4/blob/main/LICENSE">Licenza MIT</a>
        </div>
      </div>
      <div class="footer-credits">
        Foto: <a href="https://www.pexels.com/photo/person-riding-a-motorcycle-in-the-city-at-night-9325653/">Pexels #9325653</a> e
        <a href="https://www.pexels.com/photo/photo-of-a-motorcycle-helmet-on-a-motorbike-15433605/">Pexels #15433605</a>.
      </div>
      <div>¬© 2026 VRoom ¬∑ Made by riders, for riders.</div>
    </div>
  </footer>

  <script>
    const revealItems = document.querySelectorAll('[data-animate]');
    const storyLines = Array.from(document.querySelectorAll('.story-line'));
    const storyTargets = document.querySelectorAll('[data-story-index]');
    const hoverTargets = document.querySelectorAll('[data-story-hover]');
    const progressBar = document.querySelector('.story-progress span');
    const cards = document.querySelectorAll('.card');

    let activeIndex = 0;
    let hoverIndex = null;
    let typingTimer = null;
    let lastTypedIndex = null;

    const triggerTyping = (index) => {
      if (index === null || Number.isNaN(index)) {
        return;
      }
      if (index === lastTypedIndex) {
        return;
      }
      if (typingTimer) {
        clearTimeout(typingTimer);
      }
      if (lastTypedIndex !== null && storyLines[lastTypedIndex]) {
        storyLines[lastTypedIndex].classList.remove('is-typing');
      }
      lastTypedIndex = index;
      if (storyLines[index]) {
        storyLines[index].classList.add('is-typing');
        typingTimer = setTimeout(() => {
          if (storyLines[index]) {
            storyLines[index].classList.remove('is-typing');
          }
        }, 700);
      }
    };

    const updateStory = (index = activeIndex) => {
      const safeIndex = Math.max(0, Math.min(storyLines.length - 1, index));
      storyLines.forEach((line, idx) => {
        line.classList.toggle('is-visible', idx <= safeIndex);
        line.classList.toggle('is-active', idx === safeIndex);
      });
      triggerTyping(safeIndex);
    };

    const setActiveIndex = (index) => {
      if (index === null || Number.isNaN(index)) {
        return;
      }
      activeIndex = index;
      if (hoverIndex === null) {
        updateStory(activeIndex);
      }
    };

    const updateProgress = () => {
      if (!progressBar) {
        return;
      }
      const doc = document.documentElement;
      const scrollTop = window.scrollY || doc.scrollTop || 0;
      const height = doc.scrollHeight - window.innerHeight;
      const progress = height > 0 ? scrollTop / height : 0;
      progressBar.style.width = `${Math.min(100, Math.max(0, progress * 100))}%`;
    };

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15 }
    );

    revealItems.forEach((item) => observer.observe(item));

    const storyObserver = new IntersectionObserver(
      (entries) => {
        const visibleEntries = entries.filter((entry) => entry.isIntersecting);
        if (!visibleEntries.length) {
          return;
        }
        const mostVisible = visibleEntries.reduce(
          (maxEntry, entry) =>
            entry.intersectionRatio > maxEntry.intersectionRatio ? entry : maxEntry,
          visibleEntries[0]
        );
        const index = Number(mostVisible.target.dataset.storyIndex || 0);
        if (!Number.isNaN(index)) {
          setActiveIndex(index);
        }
      },
      { threshold: [0.2, 0.45, 0.7], rootMargin: '-10% 0px -55% 0px' }
    );

    storyTargets.forEach((section) => storyObserver.observe(section));

    hoverTargets.forEach((target) => {
      target.addEventListener('mouseenter', () => {
        const index = Number(target.dataset.storyHover || 0);
        hoverIndex = Number.isNaN(index) ? null : index;
        if (hoverIndex !== null) {
          updateStory(hoverIndex);
        }
      });
      target.addEventListener('mouseleave', () => {
        hoverIndex = null;
        updateStory(activeIndex);
      });
      target.addEventListener('click', () => {
        const index = Number(target.dataset.storyHover || 0);
        if (!Number.isNaN(index)) {
          setActiveIndex(index);
        }
      });
    });

    const buildCardOverlay = (card) => {
      const explain = card.dataset.explain;
      if (!explain) {
        return;
      }
      const overlay = document.createElement('div');
      overlay.className = 'card-overlay';
      overlay.innerHTML = `<span>Perch√©</span><p>${explain}</p>`;
      card.appendChild(overlay);
    };

    const clearSelectedCards = () => {
      cards.forEach((card) => card.classList.remove('is-selected'));
    };

    cards.forEach((card) => {
      buildCardOverlay(card);
      card.addEventListener('click', (event) => {
        event.stopPropagation();
        const willSelect = !card.classList.contains('is-selected');
        clearSelectedCards();
        if (willSelect) {
          card.classList.add('is-selected');
        }
      });
      card.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          card.click();
        }
      });
    });

    document.addEventListener('click', clearSelectedCards);

    window.addEventListener('scroll', updateProgress, { passive: true });
    window.addEventListener('resize', updateProgress);

    updateStory(0);
    updateProgress();
  </script>
</body>
</html>
